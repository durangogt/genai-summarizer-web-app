{% extends "base.html" %}

{% block content %}
{% if success %}
<div class="success">
    <strong>✅ Success!</strong> Summary generated successfully.
</div>

<div class="card">
    <h2>Summary Result</h2>
    
    <div style="margin-bottom: 20px;">
        <strong>Source:</strong> {{ source }}<br>
        <strong>Type:</strong> {{ source_type }}<br>
        <strong>Length:</strong> {{ length }}<br>
        <strong>Generated:</strong> {{ timestamp.strftime('%Y-%m-%d %H:%M:%S') if timestamp else 'N/A' }}
    </div>
    
    <div style="background-color: #f8f9fa; padding: 20px; border-radius: 4px; border-left: 4px solid #3498db;">
        <h3>Summary:</h3>
        <p style="white-space: pre-wrap; line-height: 1.8;">{{ summary }}</p>
    </div>
    
    <div style="margin-top: 20px;">
        <a href="/" class="btn">Back to Home</a>
        <a href="/history" class="btn" style="margin-left: 10px;">View History</a>
    </div>
</div>
{% else %}
<div class="error">
    <strong>❌ Error!</strong> Failed to generate summary.
</div>

<div class="card">
    <h2>Error Details</h2>
    
    <div style="margin-bottom: 20px;">
        <strong>Source:</strong> {{ source }}<br>
        <strong>Generated:</strong> {{ timestamp.strftime('%Y-%m-%d %H:%M:%S') if timestamp else 'N/A' }}
    </div>
    
    <div style="background-color: #f8d7da; padding: 20px; border-radius: 4px; border-left: 4px solid #dc3545;">
        <h3>Error Message:</h3>
        <p>{{ error }}</p>
    </div>
    
    <div style="margin-top: 20px;">
        <a href="/" class="btn">Back to Home</a>
        <button onclick="history.back()" class="btn" style="margin-left: 10px;">Try Again</button>
    </div>
</div>
{% endif %}
{% endblock %}
